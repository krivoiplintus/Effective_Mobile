{"name": "Изменение количества книг в корзине", "status": "broken", "statusDetails": {"message": "KeyError: 'products'", "trace": "@allure.title(\"Изменение количества книг в корзине\")\n    def test_increasing_books_in_cart():\n        number_of_books = 2\n        new_number_of_books = 1\n        with allure.step(\"Подключится к API\"):\n            api = CompanyApi(base_url, token)\n        api.add_book_in_cart(id_book)\n>       resp1 = api.change_book_in_cart(number_of_books)\n\napi_test.py:50: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <page.company_api.CompanyApi object at 0x000001B48A5C9310>, qwery = 2\n\n    @allure.step(\"Изменить количество книг в корзине\")\n    def change_book_in_cart(self, qwery: int) -> requests.Response:\n>       id_to_change = int(self.get_book_in_cart()[\"products\"][0][\"id\"])\nE       KeyError: 'products'\n\npage\\company_api.py:35: KeyError"}, "steps": [{"name": "Подключится к API", "status": "passed", "start": 1734792535479, "stop": 1734792535479}, {"name": "Добавить книгу в корзину", "status": "passed", "parameters": [{"name": "id", "value": "3010155"}], "start": 1734792535479, "stop": 1734792535528}, {"name": "Изменить количество книг в корзине", "status": "broken", "statusDetails": {"message": "KeyError: 'products'\n", "trace": "  File \"C:\\Users\\teem8\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\teem8\\OneDrive\\Desktop\\polkovnichenkoav\\final_project\\test\\page\\company_api.py\", line 35, in change_book_in_cart\n    id_to_change = int(self.get_book_in_cart()[\"products\"][0][\"id\"])\n                       ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n"}, "steps": [{"name": "Получить список книг в корзине", "status": "passed", "start": 1734792535528, "stop": 1734792535580}], "parameters": [{"name": "qwery", "value": "2"}], "start": 1734792535528, "stop": 1734792535580}], "start": 1734792535479, "stop": 1734792535580, "uuid": "de84103d-a789-4d1c-a3b5-a10634e45d84", "historyId": "346e1e1b2ce1db4856603ee58c092155", "testCaseId": "346e1e1b2ce1db4856603ee58c092155", "fullName": "test.api_test#test_increasing_books_in_cart", "labels": [{"name": "parentSuite", "value": "test"}, {"name": "suite", "value": "api_test"}, {"name": "host", "value": "Lenovo"}, {"name": "thread", "value": "38064-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test.api_test"}]}
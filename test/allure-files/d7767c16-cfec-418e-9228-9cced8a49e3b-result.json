{"name": "Изменение количества книг в корзине", "status": "broken", "statusDetails": {"message": "KeyError: 'products'", "trace": "@allure.title(\"Изменение количества книг в корзине\")\n    def test_increasing_books_in_cart():\n        number_of_books = DataProvider().get_number_of_books()\n        new_number_of_books = DataProvider().get_new_number_of_books()\n        with allure.step(\"Подключится к API\"):\n            api = CompanyApi(base_url, token)\n        api.add_book_in_cart(id_book)\n>       resp1 = api.change_book_in_cart(number_of_books)\n\napi_test.py:54: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page.company_api.CompanyApi object at 0x000001A1759A65A0>, qwery = 2\n\n    @allure.step(\"Изменить количество книг в корзине\")\n    def change_book_in_cart(self, qwery: int) -> requests.Response:\n>       id_to_change = int(self.get_book_in_cart()[\"products\"][0][\"id\"])\nE       KeyError: 'products'\n\npage\\company_api.py:34: KeyError"}, "steps": [{"name": "Подключится к API", "status": "passed", "start": 1734872993471, "stop": 1734872993471}, {"name": "Добавить книгу в корзину", "status": "passed", "parameters": [{"name": "id", "value": "3010155"}], "start": 1734872993475, "stop": 1734872993620}, {"name": "Изменить количество книг в корзине", "status": "broken", "statusDetails": {"message": "KeyError: 'products'\n", "trace": "  File \"C:\\Users\\teem8\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\teem8\\OneDrive\\Desktop\\polkovnichenkoav\\final_project\\test\\page\\company_api.py\", line 34, in change_book_in_cart\n    id_to_change = int(self.get_book_in_cart()[\"products\"][0][\"id\"])\n                       ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n"}, "steps": [{"name": "Получить список книг в корзине", "status": "passed", "start": 1734872993620, "stop": 1734872993720}], "parameters": [{"name": "qwery", "value": "2"}], "start": 1734872993620, "stop": 1734872993720}], "start": 1734872993471, "stop": 1734872993720, "uuid": "c346b994-943e-410c-96ef-669c8893ffcd", "historyId": "346e1e1b2ce1db4856603ee58c092155", "testCaseId": "346e1e1b2ce1db4856603ee58c092155", "fullName": "test.api_test#test_increasing_books_in_cart", "labels": [{"name": "parentSuite", "value": "test"}, {"name": "suite", "value": "api_test"}, {"name": "host", "value": "Lenovo"}, {"name": "thread", "value": "12196-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test.api_test"}]}